<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cumulative Offset</title>
    <style>
    section {
        position: relative;
        margin: 2rem;
        padding: 2rem;
        background-color: salmon;
    }
    div {
        margin: 2rem;
        padding: 2rem;
    }
    </style>
</head>
<body>

    <section>
        <div id="div1">Div</div>
    </section>
    <p>Pepe</p>
    <section>
        <div id="div2">Div</div>
    </section>
    
    <script>
    
    let nodoDiv1 = document.querySelector('#div1')
    let nodoDiv2 = document.querySelector('#div2')

    console.log('offsetTop', nodoDiv1.offsetTop)
    console.log('cumulative', cumulativeOffset(nodoDiv1))
    console.log('offsetTop', nodoDiv2.offsetTop)
    console.log('cumulative', cumulativeOffset(nodoDiv2))
    
    function cumulativeOffset (element) {
        var top = 0;
        do {
            top += element.offsetTop || 0;
            console.dir(element.offsetParent)
            element = element.offsetParent;
        } while(element);
        return top;
    };
    
    </script>
</body>
</html>